name: Clone Private Repo

on:
  push:
    branches:
      - main

jobs:
  clone:
    runs-on: self-hosted

    steps:
      - name: Checkout current repo
        uses: actions/checkout@v3

      - name: Clone private repo
        run: |
          git clone https://kanchana08:${{ secrets.TESTING }}@github.com/kanchana08/angular.git

      - name: Install and build the cloned repo
        run: |
          cd github_actions
          npm install
          npm run build --prod

      - name: Run Linux command in cloned repo
        run: |
          cd github_actions
          ls -la
          echo "Current directory: $(pwd)"
